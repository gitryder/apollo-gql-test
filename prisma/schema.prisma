generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model comment {
  user_id   String @db.VarChar(255)
  post_id   String @db.VarChar(255)
  title     String @db.VarChar(255)
  body      String @db.VarChar(255)
  timestamp String @db.VarChar(255)
  post      post   @relation(fields: [post_id], references: [id])
  user      user   @relation(fields: [user_id], references: [id])

  @@id([user_id, post_id])
  @@index([post_id], name: "comment_postid_foreign")
}

model like {
  user_id   String @db.VarChar(255)
  post_id   String @db.VarChar(255)
  timestamp String @db.VarChar(255)
  post      post   @relation(fields: [post_id], references: [id])
  user      user   @relation(fields: [user_id], references: [id])

  @@id([user_id, post_id])
  @@index([post_id], name: "likes_post_id_foreign")
}

model post {
  id         String    @id @db.VarChar(255)
  title      String    @db.VarChar(255)
  body_text  String?   @db.VarChar(2000)
  body_html  String?   @db.VarChar(2000)
  created_on String?   @db.VarChar(255)
  created_by String?   @db.VarChar(255)
  comments   comment[]
  likes      like[]
}

model user {
  id                  String    @id @db.VarChar(255)
  name                String    @db.VarChar(255)
  email               String    @db.VarChar(255)
  profile_picture_url String    @db.VarChar(255)
  short_desc          String    @db.VarChar(255)
  long_desc           String    @db.VarChar(255)
  social_linked_in    String    @db.VarChar(255)
  social_instagram    String    @db.VarChar(255)
  social_twitter      String    @db.VarChar(255)
  comments            comment[]
  likes               like[]
}
